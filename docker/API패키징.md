### 도커파일
패키징 해야하기때문에 이제는 express등 다 깔아줘야함 너무많아서 폴더를 만들겠다.
노드몬은 재실행없이 수정작업이 일어나면 알아서 재실행해주는것
그런데 nodemon도 폴더이동해서 해야하는데 방법이 직접 cd플 통해서 이동하는 방법 아니면은 작업디렉터리를 설정하는방법

WORKDIR 지시문은 Docker 이미지 내에서 실행되는 모든 후속 명령의 작업 디렉토리를 설정합니다. 
즉, WORKDIR은 이후에 나오는 RUN, CMD, COPY, ADD 등의 명령이 실행될 기본 디렉토리를 설정하는 역할을 합니다.
```
FROM node:14

COPY . /myfolder

WORKDIR /myfolder

CMD nodemon start:dev
```
여기서 잘못된것은 node modules까지 복사하는것이다 왜냐하면 내 로컬에 node버전다르고 영희, 철수 도 버전이 다 다르다 그래서 이 이미지를 어느환경에서나 똑같이 돌릴려고
만드는것인데 내 컴퓨터의 노드버전을 가지고 설치를 하는것이다. 버전이 다르면 노드모듈 소스코드가 다 다르다.
그래서 문제점은 프로그램 실행은 node : 14 버전가지고 하는데 설치된 노드모듈은 18이나 16버전으로 설치된것이라 제대로 작동하지 않는다.
그래서 노드모듈을 다 통일해야한다. 즉 노드모듈은 빼고 이미지에 넣어야한다 

### COPY시 노드모듈을 뺴는법
.dockerignore라는 파일을 만든다. 이렇게 하면 도커파일에서 COPY할때 빠지게된다.
그래서 총 명령어는 아래와 같다 노드모듈이 빠졌으니 package.json을 통해 yarn install을 해서 노드모듈을 설치 

```
FROM node:14

COPY . /myfolder

WORKDIR /myfolder
RUN yarn install 

CMD yarn start:dev
```

### 코드변경후 다시 이미지 만드는것...
귀찮다 무엇인가 env를 dev, prod로도 가능하고 그안에 값을 명령어로 받을 수 있는방법이 존재할것같다 그러나 지금은 찾아보기엔 시간낭비다



